{% extends 'base.html' %}

{% block title %}新建绩效周期 - HRMS{% endblock %}
{% block page_title %}新建绩效周期{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto bg-white rounded-lg shadow p-8">
    <form method="post" class="space-y-6">
        {% csrf_token %}
        <h3 class="text-lg font-bold text-gray-700 mb-6 border-b pb-2">周期定义</h3>

        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">周期名称</label>
            {{ form.cycle_name }}
        </div>

        <div class="grid grid-cols-2 gap-6">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">考核类型</label>
                {{ form.cycle_type }}
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">适用组织</label>
                {{ form.org }}
                <p class="text-xs text-gray-400 mt-1">{{ form.org.help_text }}</p>
            </div>
        </div>

        <div class="grid grid-cols-2 gap-6">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">开始时间</label>
                {{ form.start_time }}
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">结束时间</label>
                {{ form.end_time }}
            </div>
        </div>

        <h3 class="text-lg font-bold text-gray-700 mb-2 border-b pb-2 pt-4">规则设置</h3>
        <div class="grid grid-cols-2 gap-6">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">出勤率占比(%)</label>
                {{ form.attendance_weight }}
                <p class="text-xs text-gray-400 mt-1">与请假率占比相加需等于 100%</p>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">请假率占比(%)</label>
                {{ form.leave_weight }}
                <p class="text-xs text-gray-400 mt-1">请假越少分越高（按 1-请假率 计分）</p>
            </div>
        </div>

        <div class="pt-6 flex justify-end gap-4">
            <a href="{% url 'performance:dashboard' %}"
                class="px-5 py-2 text-gray-600 hover:bg-gray-100 rounded-lg">取消</a>
            <button type="submit" class="px-5 py-2 bg-primary text-white rounded-lg hover:bg-blue-600">
                创建
            </button>
        </div>
    </form>
</div>
{% endblock %}